<link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/solarized-dark.min.css" rel="stylesheet">
{{ with .Site.Params.favicon }}
<link rel="shortcut icon" href="{{ . }}" type="image/x-icon">
{{ end }}

{{ if .Site.Params.Gitalk.enabled }}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
const sp = location.pathname.split('/');
let id = sp[sp.length - 1];
if (id == "") id = sp[sp.length - 2];

const gitalk = new Gitalk({
  clientID: {{ .Site.Params.Gitalk.clientID }},
  clientSecret: {{ .Site.Params.Gitalk.clientSecret }},
  repo: {{ .Site.Params.Gitalk.repo }},
  owner: {{ .Site.Params.Gitalk.owner }},
  admin: {{ .Site.Params.Gitalk.admin }},
  id: decodeURI(id),      // Ensure uniqueness and length less than 50
  distractionFreeMode: false  // Facebook-like distraction free mode
});

window.onload = function() {
  gitalk.render('gitalk-container');
}
</script>
{{ end }}